---
import MainLayout from '../layouts/MainLayout.astro'; // Use MainLayout which includes global styles
import BlogList from '../components/BlogList';
// import QnaForm from '../components/QnaForm.astro';
---

<MainLayout title="HermitONL - Minimal Path to Freedom"> {/* Use MainLayout */}
	{/* Removed container, main-content will now be the grid container */}
	<main id="main-content">

		{/* Main content area (QnA) */}
		<div class="main-content-area">
			<section class="qna-section">
				{/* <QnaForm /> */}{/* Add the QnA form component */}
			</section>
		</div>

		{/* Sidebar area (Blog List) */}
		<div class="sidebar-area">
			<BlogList client:load />
		</div>

	</main>
</MainLayout> {/* Use MainLayout */}

<style>
	#main-content {
		display: grid;
		grid-template-columns: 1fr; /* Blog posts are now the main focus */
		grid-template-rows: 1fr; /* Sidebar now takes full width */
		grid-template-areas:
			"sidebar"; /* QnA form removed, blog posts main focus */
		gap: var(--space-lg);
		margin-top: var(--space-lg); /* Add margin to top since user selector area is gone */
		width: 100%;
		max-width: 1600px; /* Optional: Limit max width */
		margin-inline: auto; /* Center the grid container */
		padding: 0; /* Remove all padding */
		align-items: start; /* Align items to the top */
	}

	/* .user-selector-area styles removed */

	.main-content-area {
		grid-area: main;
	}

	.sidebar-area {
		grid-area: sidebar;
		font-size: var(--fs-sm); /* Reduce font size for sidebar content */
		/* Optional: Add background or border for visual separation */
		/* background-color: hsl(var(--muted)); */
		/* padding: var(--space-md); */
		/* border-radius: var(--radius-md); */
	}

	/* Responsive adjustments */
	@media (max-width: 1200px) { /* Stack columns on smaller screens */
		#main-content {
			grid-template-columns: 1fr; /* Single column */
			grid-template-rows: auto; /* Blog posts are now the main focus */
			grid-template-areas:
				"sidebar"; /* QnA form removed, blog posts main focus */
			gap: var(--space-md); /* Reduce gap */
			margin-top: var(--space-md); /* Add margin to top */
		}

		/* .user-selector-area styles removed */
	}

	/* Remove body centering for this page if needed, although grid centering might suffice */
	/* body {
		place-items: initial;
	} */

	/* Remove separator style if it exists and is no longer needed */
	.separator {
		display: none;
	}
</style>
